<!DOCTYPE html>
<html lang="en">
<head>
    <title>Test Driven Development</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="node_modules/@shower/ribbon/styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
</head>
<body class="shower full">

<!--     <header class="caption">
        <h1>Test driven development</h1>
        <p>Методология разработки через тестирование</p>
    </header> -->

    <section class="slide" id="cover">
        <!-- <br> -->
        <!-- <p>Petr Karmashev</p> -->
        <figure>
            <img class="cover" src="pictures/tdd2.png">
        </figure>
        <style>
            #cover h2 {
                margin: 30px 0 0;
                color: white;
                text-align: center;
                font-size: 70px;
            }

            #cover p {
                margin: 10px 0 0;
                text-align: center;
                color: white;
                font-style: italic;
                font-size: 20px;
            }

            #cover p a {
                color: white;
            }

            .center {
                text-align: center;
            }
        </style>
    </section>

    <section class="slide">
        <h2>Цикл разработки через тестирование</h2>
        <div class="columns two">
                <ol>
                <li>Тест</li>
                <li>Код</li>
                <li>Рефакторинг</li>
                </ol>

                <figure class="next">
                    <img class="center" src="pictures/na-donishke.gif">
                </figure>
        </div>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Тест</h2>
    </section>

    <section class="slide">
        <h2>Тест</h2>
        <p>Тест на минимальную функциональность (атомарная операция, одно условие или вызов метода)</p>
		<p>Запуск теста должен упасть, в том числе и по причине отсутствия метода</p>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Код</h2>
    </section>

    <section class="slide">
        <h2>Код</h2>
            <p>Цель: сделать так, чтобы тест проходил минимально возможным способом</p>
            <figure>
                <img class="center" style="width: 100%;" src="pictures/30-seconds3.png">
            </figure>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Рефакторинг</h2>
    </section>

    <section class="slide">
        <h2>Рефакторинг реализации</h2>
		<p>На соответствие правилам кода проекта, оптимизация решения</p>
    </section>

    <section class="slide">
        <h2>Рефакторинг теста</h2>
		<p>Проверить что названия тестовых методов отражает смысл проверки</p>
		<p>Удалить лишние, повторяющиеся тест кейсы</p>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Законы</h2>
    </section>

    <section class="slide">
        <h2>Законы дядюшки Боба</h2>
        <ol>
            <li class="next">И не пребудет в проде кода, который не чинит сломанные тесты</li>
            <li class="next">Да не напишет человек лишнего теста, кроме того который упадет</li>
            <li class="next">Не написан будет код, кроме того что оживит <b>один</b> упавший тест</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Плюсы и минусы</h2>
    </section>

    <section class="slide">
        <h2>Плюсы</h2>
        <ol>
            <li class="next">Понятны критерии прохождения теста и завершения задачи</li>
			<li class="next">Быстрая обратная связь - сразу видно где проблема</li>
			<li class="next">Быстрее написание кода - понятен следующий шаг, шаги маленькие</li>
			<li class="next">Высокое покрытие, уверенность в коде</li>
			<li class="next">Проще и понятнее рефакторинг</li>
            <li class="next">Чистый лист, понятно с чего начать, готовая методология написания кода</li>
			<li class="next">Чистый код, за счет тестируемости - SOLID</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Еще плюсы</h2>
        <ol>
            <li class="next">Тесты и рефакторинг включены в стоимость решения задачи, пока пишешь тест - думаешь над результатом реализации</li>
			<li class="next">Меньше техдолг</li>
            <li class="next">Сразу видны недостатки в требованиях</li>
			<li class="next">Готовое описание работы класса для того кто собирается его использовать. Ревью можно делать начиная с чтения тестов</li>
			<li class="next">Сначала думаешь, потом пишешь код</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Минусы</h2>
        <ol>
			<li class="next">Непривычно думать наоборот</li>
			<li class="next">Хрупкость, нужно часто править тесты, т.к. они будут меняться за архитектурой</li>
			<li class="next">Нужно поддерживать моки</li>
			<li class="next">Не учитывается клиентский код и конфигурация - тесты могут проходить но проект не будет рабочим</li>
        </ol>
    </section>

    <section class="slide">
        <h2>Еще минусы</h2>
        <ol>
			<li class="next">Бывает что легко добавить одну строку в тестируемый метод, например для обработки эксепшена или null, а тест на этот случай писать долго и велик соблазн сразу добавить строку</li>
			<li class="next">Не всегда подходит если требования спускаются в виде сложного, уже готового алгоритма</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout shrink">Подробнее про минусы</h2>
    </section>

    <section class="slide">
        <h2>Думать наоборот</h2>
        <p>Тут не поможет ни выучка, ни привычка, тут природа являет свою силу, через этот изъян напоминая о себе самым здоровым и крепким.</p>
        <p>Сенека. Нравственные письма к Луцилию.</p>
    </section>

    <section class="slide">
        <h2>Хрупкость</h2>
        <p>TDD поощряет простой дизайн.</p>
        <p>Барьер для излишнего усложнения архитектуры.</p>
        <p>Тесты - доказательство архитектуры.</p>
    </section>

    <section class="slide">
        <h2>Моки</h2>
        <p>Есть библиотеки для их генерации.</p>
        <p>Моки - хорошее минимальное описание поведения внешннго сервиса, при их анализе можно заметить ошибки проектирования и лучше понять поведение.</p>
    </section>

    <section class="slide">
        <h2>Не учитывается клиентский код</h2>
        <p>Кроме юнитов, необходим иной слой тестов: end-to-end, приемочные, которые тоже можно рассмотреть в цикле BDD -> TDD</p>
        <figure>
            <img class="center" src="pictures/bdd-tdd.png">
        </figure>
    </section>

    <section class="slide">
        <h2>Легко добавить одну строку</h2>
        <p>Проблема в том что если строка не была покрыта, то содержит потенциальный баг - неверное поведение, условие, или является избыточной.</p>
    </section>

    <section class="slide">
        <h2>Не всегда подходит для алгоритмов</h2>
        <p>Разбиение алгоритма на отдельные тестируемые части.</p>
    </section>

    <section class="slide">
        <h2 class="shout shrink">TDD or die trying!</h2>
    </section>

    <div class="progress"></div>

    <script src="node_modules/shower-core/shower.min.js"></script>
</body>
</html>
